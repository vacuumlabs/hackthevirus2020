query Challenges {
  challenge {
    id
    name
    category
    description
  }
}

query Challenge($id: uuid!) {
  challenge_by_pk (id: $id) {
    id
    name
    category
    description
  }
}

mutation CompleteChallenge(
  $assignment_id: uuid!
  $completed_at: timestamptz!
  $mood: mood_enum!
) {
  update_challenge_assignment(
    where: {
      id: {
        _eq: $assignment_id
      }
    }
    _set: {
      completed_at: $completed_at
      mood: $mood
    }
  ) {
    affected_rows
  }
}
